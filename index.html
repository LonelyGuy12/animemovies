<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>„ÅÜ„Çè„ÅÅ~ My Anime Movie List! ‚ú®</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #000000;
      font-family: 'Arial', sans-serif;
      color: #ffffff;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
      cursor: none;
    }

    header, footer {
      background: rgba(255, 192, 203, 0.2);
      border-color: rgba(255, 192, 203, 0.4);
      transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    header:hover, footer:hover {
      background: rgba(255, 192, 203, 0.3);
      box-shadow: 0 4px 20px rgba(255, 105, 180, 0.3);
    }

    .anime-card {
      transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.05);
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.1);
      transform: translateY(0);
      opacity: 0;
      animation: fadeInUp 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
    }

    .anime-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255,105,180,0.1) 0%, rgba(255,192,203,0.05) 100%);
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: -1;
    }

    .anime-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 15px 30px rgba(255, 105, 180, 0.4);
    }

    .anime-card:hover::before {
      opacity: 1;
    }

    .petal {
      position: absolute;
      pointer-events: none;
      z-index: 1000;
      will-change: transform;
      transform-origin: center;
    }

    .petal img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 0 8px rgba(255, 192, 203, 0.8));
      animation: glow 2s infinite alternate;
    }

    .cursor-follower {
      position: absolute;
      width: 40px;
      height: 40px;
      background: radial-gradient(circle, rgba(255,192,203,0.8) 0%, rgba(255,105,180,0) 70%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      mix-blend-mode: screen;
      opacity: 0;
      transition: opacity 0.3s, transform 0.1s;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes falling {
      0% {
        transform: translateY(-100px) rotate(0deg) scale(0.8);
        opacity: 0;
      }
      10% {
        opacity: 1;
        transform: translateY(0) rotate(90deg) scale(1);
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translate(calc(var(--sway-amount, 0px)), 110vh) rotate(var(--rotation-amount, 360deg)) scale(0.5);
        opacity: 0;
      }
    }

    @keyframes glow {
      from {
        filter: drop-shadow(0 0 8px rgba(255, 192, 203, 0.8));
      }
      to {
        filter: drop-shadow(0 0 12px rgba(255, 105, 180, 0.9));
      }
    }

    @media (max-width: 640px) {
      header h1 {
        font-size: 1.5rem;
      }
      .anime-card {
        padding: 1rem;
        animation: fadeInUpMobile 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
      }
      
      @keyframes fadeInUpMobile {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    }

    .music-control {
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      transform: scale(1);
    }

    .music-control:hover {
      transform: scale(1.15);
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
    }

    .favorite-btn {
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      transform: scale(1);
    }

    .favorite-btn:hover {
      transform: scale(1.3);
    }

    .favorite-btn:active {
      transform: scale(0.9);
    }

    /* Staggered animations for cards */
    .anime-card:nth-child(1) { animation-delay: 0.1s; }
    .anime-card:nth-child(2) { animation-delay: 0.2s; }
    .anime-card:nth-child(3) { animation-delay: 0.3s; }
    .anime-card:nth-child(4) { animation-delay: 0.4s; }
    .anime-card:nth-child(5) { animation-delay: 0.5s; }
    .anime-card:nth-child(6) { animation-delay: 0.6s; }
    .anime-card:nth-child(7) { animation-delay: 0.7s; }
    .anime-card:nth-child(8) { animation-delay: 0.8s; }
    .anime-card:nth-child(9) { animation-delay: 0.9s; }
    .anime-card:nth-child(10) { animation-delay: 1.0s; }
    .anime-card:nth-child(11) { animation-delay: 1.1s; }
    .anime-card:nth-child(12) { animation-delay: 1.2s; }
    .anime-card:nth-child(13) { animation-delay: 1.3s; }
  </style>
</head>

<body>

<header class="text-center py-6 rounded-b-2xl border-b-4">
  <h1 class="text-4xl md:text-5xl font-bold animate-bounce text-white drop-shadow-lg" style="animation: bounce 2s infinite;">
    „Éû„Ç§„Ç¢„Éã„É°„É™„Çπ„ÉàÔΩû‚ú®
  </h1>
  <div class="mt-4 max-w-md mx-auto px-4">
    <input
      id="search-input"
      type="text"
      placeholder="Search anime..."
      class="w-full p-2 rounded-lg border-2 border-pink-400 focus:outline-none focus:border-pink-600 bg-white bg-opacity-10 text-white transition-all duration-300 transform focus:scale-105"
      aria-label="Search anime movies"
    >
  </div>
</header>

<main id="anime-list" class="container mx-auto px-4 py-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3"></main>

<footer class="text-center py-4 rounded-t-2xl mt-8 border-t-4">
  <p class="text-white transition-all hover:text-pink-300 hover:scale-105 inline-block">Made with lots of üíñ and sparkles ‚ú® by Lonely!</p>
  <div class="mt-2 flex justify-center gap-4">
    <button id="music-toggle" class="music-control bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600" aria-label="Toggle background music" aria-pressed="false">
      Play Music
    </button>
    <button id="volume-control" class="music-control bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600" aria-label="Toggle mute" aria-pressed="false">
      Mute
    </button>
  </div>
</footer>

<audio id="bg-music" preload="auto" loop>
  <source src="https://cdn.discordapp.com/attachments/1320044979267047447/1365731184851681341/output_audio.mp3?ex=680e5fc8&is=680d0e48&hm=c51b6d6e2e2b482d7c7580a18048b24328b9bd8e0017be2a75c27afd92cfc0d8&" type="audio/mpeg">
</audio>

<!-- Hidden pearl image -->
<div style="display: none;">
  <img id="pearl-image" src="https://media.discordapp.net/attachments/1320044979267047447/1365756715215224893/transparent_image.png?ex=680e778f&is=680d260f&hm=8f30c557e641d2fdc7233e802ac86bc55a11a5baaf7a7db83c3dbae9c911b244&=&format=webp&quality=lossless&width=921&height=676" alt="Pearl">
</div>

<script>
  const animes = [
    { title: "Kimi no Na wa (Your Name)", description: "Two strangers find themselves linked in a bizarre way.", year: 2016 },
    { title: "Tenki no Ko (Weathering with You)", description: "A boy runs away to Tokyo and meets a girl who can manipulate weather.", year: 2019 },
    { title: "I Want to Eat Your Pancreas", description: "A bittersweet story about life, death, and love.", year: 2018 },
    { title: "Josee, the Tiger and the Fish", description: "A story about dreams, love, and overcoming limitations.", year: 2020 },
    { title: "The Tunnel to Summer, the Exit of Goodbyes", description: "A mystical tunnel that grants wishes at a heavy price.", year: 2022 },
    { title: "Summer Ghost", description: "Three teenagers meet the spirit of a young woman.", year: 2021 },
    { title: "Hello World", description: "A sci-fi romance across parallel worlds.", year: 2019 },
    { title: "Anthem of the Heart", description: "A girl loses her ability to speak due to a traumatic event.", year: 2015 },
    { title: "A Whisker Away", description: "A girl transforms into a cat to get closer to her crush.", year: 2020 },
    { title: "To Every You I've Loved Before", description: "Romantic sci-fi story about alternate realities.", year: 2022 },
    { title: "To Me, The One Who Loved You", description: "Parallel love stories across dimensions.", year: 2022 },
    { title: "Saekano: The Boring Girlfriend", description: "A story about a high school boy who creates a dating sim with his friends.", year: 2015 },
    { title: "Rascal Does Not Dream of Bunny Girl Senpai", description: "A mysterious phenomenon causes high school students to experience surreal events.", year: 2018 }
  ];

  const listContainer = document.getElementById('anime-list');
  const searchInput = document.getElementById('search-input');
  const bgMusic = document.getElementById('bg-music');
  const musicToggle = document.getElementById('music-toggle');
  const volumeControl = document.getElementById('volume-control');
  const pearlImage = document.getElementById('pearl-image');

  // Mouse position tracking
  let mouseX = 0;
  let mouseY = 0;
  let cursorFollower;
  let petals = [];
  const petalRepelDistance = 150;
  const petalRepelStrength = 0.2;

  // Create cursor follower
  function createCursorFollower() {
    cursorFollower = document.createElement('div');
    cursorFollower.className = 'cursor-follower';
    document.body.appendChild(cursorFollower);
  }

  // Track mouse position
  function trackMousePosition(e) {
    mouseX = e.clientX;
    mouseY = e.clientY;
    
    if (cursorFollower) {
      cursorFollower.style.left = `${mouseX}px`;
      cursorFollower.style.top = `${mouseY}px`;
      cursorFollower.style.opacity = '1';
    }
  }

  // Initialize mouse interaction
  function initMouseInteraction() {
    createCursorFollower();
    document.addEventListener('mousemove', trackMousePosition);
    
    // Hide cursor follower when mouse leaves window
    document.addEventListener('mouseleave', () => {
      if (cursorFollower) cursorFollower.style.opacity = '0';
    });
    
    // Show cursor follower when mouse returns
    document.addEventListener('mouseenter', () => {
      if (cursorFollower) cursorFollower.style.opacity = '1';
    });
  }

  // Update petal positions based on mouse
  function updatePetalPositions() {
    petals.forEach(petal => {
      const petalRect = petal.getBoundingClientRect();
      const petalX = petalRect.left + petalRect.width / 2;
      const petalY = petalRect.top + petalRect.height / 2;
      
      // Calculate distance from mouse to petal
      const dx = petalX - mouseX;
      const dy = petalY - mouseY;
      const distance = Math.sqrt(dx * dx + dy * dy);
      
      if (distance < petalRepelDistance) {
        // Calculate repulsion force
        const force = (petalRepelDistance - distance) / petalRepelDistance;
        const angle = Math.atan2(dy, dx);
        
        // Apply repulsion
        const repelX = Math.cos(angle) * force * petalRepelStrength * 10;
        const repelY = Math.sin(angle) * force * petalRepelStrength * 10;
        
        // Get current transform values
        const currentTransform = petal.style.transform.match(/translate\(([^,]+),([^)]+)\)/) || [0, 0];
        const currentX = parseFloat(currentTransform[1]) || 0;
        const currentY = parseFloat(currentTransform[2]) || 0;
        
        // Apply new transform with repulsion
        petal.style.transform = `translate(${currentX + repelX}px, ${currentY + repelY}px) rotate(${petal.dataset.rotation || 0}deg)`;
        
        // Add slight scale effect when close to mouse
        petal.style.transform += ` scale(${1 + force * 0.1})`;
      }
    });
    
    requestAnimationFrame(updatePetalPositions);
  }

  let favorites = [];
  try {
    const storedFavorites = localStorage.getItem('animeFavorites');
    if (storedFavorites) {
      favorites = JSON.parse(storedFavorites);
    }
  } catch (error) {
    console.error("Error loading favorites:", error);
  }

  function renderAnimeList(filteredAnimes) {
    listContainer.innerHTML = '';
    filteredAnimes.forEach((anime, index) => {
      const isFavorite = favorites.includes(anime.title);
      const card = document.createElement('div');
      card.className = 'anime-card';
      card.style.animationDelay = `${index * 0.1}s`;
      card.innerHTML = `
        <div class="flex justify-between items-start">
          <h2 class="text-xl font-bold text-pink-400 transition-all hover:text-pink-300">‚ú® ${index + 1}. ${anime.title}</h2>
          <button class="favorite-btn text-2xl ${isFavorite ? 'text-red-500' : 'text-gray-400'}" data-title="${anime.title}" aria-label="${isFavorite ? 'Remove from favorites' : 'Add to favorites'}">
            ${isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}
          </button>
        </div>
        <p class="text-gray-300 mt-2 transition-all hover:text-gray-100">${anime.description}</p>
        <p class="text-sm text-gray-500 mt-1 transition-all hover:text-gray-300">Year: ${anime.year}</p>
      `;
      listContainer.appendChild(card);
    });
  }

  renderAnimeList(animes);

  function debounce(func, delay) {
    let timeout;
    return function(...args) {
      clearTimeout(timeout);
      timeout = setTimeout(() => func.apply(this, args), delay);
    };
  }

  function handleSearch(event) {
    const query = event.target.value.toLowerCase();
    const filteredAnimes = animes.filter(anime =>
      anime.title.toLowerCase().includes(query) ||
      anime.description.toLowerCase().includes(query)
    );
    renderAnimeList(filteredAnimes);
  }

  searchInput.addEventListener('input', debounce(handleSearch, 300));

  listContainer.addEventListener('click', (event) => {
    if (event.target.classList.contains('favorite-btn')) {
      const animeTitle = event.target.getAttribute('data-title');
      const index = favorites.indexOf(animeTitle);
      if (index !== -1) {
        favorites.splice(index, 1);
        event.target.classList.remove('text-red-500');
        event.target.classList.add('text-gray-400');
        event.target.textContent = 'ü§ç';
        event.target.setAttribute('aria-label', 'Add to favorites');
      } else {
        favorites.push(animeTitle);
        event.target.classList.remove('text-gray-400');
        event.target.classList.add('text-red-500');
        event.target.textContent = '‚ù§Ô∏è';
        event.target.setAttribute('aria-label', 'Remove from favorites');
        
        // Add a small celebration effect when favoriting
        const heart = event.target;
        heart.animate([
          { transform: 'scale(1)' },
          { transform: 'scale(1.5)' },
          { transform: 'scale(1)' }
        ], {
          duration: 600,
          easing: 'cubic-bezier(0.68, -0.55, 0.27, 1.55)'
        });
        
        // Create additional petals when favoriting
        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const rect = heart.getBoundingClientRect();
            createPearl(rect.left + rect.width/2, rect.top + rect.height/2, true);
          }, i * 100);
        }
      }
      localStorage.setItem('animeFavorites', JSON.stringify(favorites));
    }
  });

  musicToggle.addEventListener('click', () => {
    if (bgMusic.paused) {
      bgMusic.play();
      musicToggle.textContent = 'Pause Music';
      musicToggle.setAttribute('aria-pressed', 'true');
      
      // Add a pulse effect when music starts
      musicToggle.animate([
        { transform: 'scale(1)', boxShadow: '0 0 0 rgba(255, 105, 180, 0)' },
        { transform: 'scale(1.1)', boxShadow: '0 0 20px rgba(255, 105, 180, 0.6)' },
        { transform: 'scale(1)', boxShadow: '0 0 0 rgba(255, 105, 180, 0)' }
      ], {
        duration: 1000,
        easing: 'ease-out'
      });
    } else {
      bgMusic.pause();
      musicToggle.textContent = 'Play Music';
      musicToggle.setAttribute('aria-pressed', 'false');
    }
  });

  volumeControl.addEventListener('click', () => {
    bgMusic.muted = !bgMusic.muted;
    volumeControl.textContent = bgMusic.muted ? 'Unmute' : 'Mute';
    volumeControl.setAttribute('aria-pressed', bgMusic.muted ? 'true' : 'false');
    
    // Add a quick feedback animation
    volumeControl.animate([
      { transform: 'scale(1)' },
      { transform: 'scale(0.9)' },
      { transform: 'scale(1)' }
    ], {
      duration: 300,
      easing: 'ease-out'
    });
  });

  function createPearl(x = null, y = null, burst = false) {
    const pearl = document.createElement('div');
    pearl.className = 'petal';
    const img = document.createElement('img');
    img.src = pearlImage.src;
    img.alt = "Pearl";
    pearl.appendChild(img);

    const startX = x !== null ? x : Math.random() * window.innerWidth;
    const startY = y !== null ? y : -100;
    
    pearl.style.left = `${startX}px`;
    pearl.style.top = `${startY}px`;

    const swayAmount = Math.random() * 200 - 100; 
    const rotateAmount = Math.random() * 720 - 360;
    const size = Math.random() * 20 + 20; 
    const fallDuration = burst ? Math.random() * 3 + 2 : Math.random() * 8 + 8;

    pearl.style.setProperty('--sway-amount', `${swayAmount}px`);
    pearl.style.setProperty('--rotation-amount', `${rotateAmount}deg`);
    pearl.style.width = `${size}px`;
    pearl.style.height = `${size}px`;
    
    if (burst) {
      // Special animation for burst effect
      const angle = Math.random() * Math.PI * 2;
      const distance = Math.random() * 100 + 50;
      const burstX = Math.cos(angle) * distance;
      const burstY = Math.sin(angle) * distance - 50;
      
      pearl.style.animation = `none`;
      pearl.style.transform = `translate(0, 0) rotate(0deg)`;
      
      pearl.animate([
        { 
          transform: 'translate(0, 0) rotate(0deg) scale(1)',
          opacity: 1
        },
        { 
          transform: `translate(${burstX}px, ${burstY}px) rotate(${rotateAmount}deg) scale(0.5)`,
          opacity: 0
        }
      ], {
        duration: fallDuration * 1000,
        easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
        fill: 'forwards'
      });
    } else {
      pearl.style.animation = `falling ${fallDuration}s ease-in-out forwards`;
      pearl.style.animationDelay = `${Math.random() * 2}s`;
    }

    // Store initial rotation for mouse interaction
    pearl.dataset.rotation = rotateAmount;
    
    document.body.appendChild(pearl);
    petals.push(pearl);

    setTimeout(() => {
      pearl.remove();
      petals = petals.filter(p => p !== pearl);
    }, fallDuration * 1000);
  }

  // Initialize mouse interaction
  initMouseInteraction();
  updatePetalPositions();

  // Create initial petals
  for (let i = 0; i < 30; i++) {
    setTimeout(() => createPearl(), Math.random() * 3000);
  }
  
  // Continuous petal creation with randomized intervals
  function startPearlCreation() {
    createPearl();
    const nextInterval = Math.random() * 2000 + 500;
    setTimeout(startPearlCreation, nextInterval);
  }
  
  startPearlCreation();
</script>

</body>
</html>
